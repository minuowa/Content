#pragma once
#include "GComponentInterface.h"

class GComponentFactory
{
public:
	typedef GComponentInterface* ( *ObjCrator ) ();

	struct ComponentCreator
	{
		int mType;
		ObjCrator mCreator;
	};

	typedef CXMap<CharString, ComponentCreator*> ComponentCreatorMap;

public:
	void RegisterCreator ( const char* typeName,int type, ObjCrator creator );
	GComponentInterface*	Create ( const char* typeName );
	ObjCrator GetCreator ( const char* typeName );

	ObjCrator GetCreator(int type);

private:
	ComponentCreatorMap mComponentCreatorMap;
public:
	const ComponentCreatorMap& GetCreators() const
	{
		return mComponentCreatorMap;
	}
};
